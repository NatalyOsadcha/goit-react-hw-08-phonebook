"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[391],{7391:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var a=n(2791),s=n(9439),c="PhonebookForm_form__0btgv",r="PhonebookForm_label__a86iP",o="PhonebookForm_input__oekwR",i="PhonebookForm_button__ftF0u",l=n(8174),u=n(9434),m=n(3634),d=n(3433),p=n(6916),f=function(e){return e.contacts.items},h=function(e){return e.contacts.isLoading},_=function(e){return e.contacts.error},b=function(e){return e.filters.filter},x=(0,p.P1)([f],(function(e){return(0,d.Z)(e).sort((function(e,t){return e.name.localeCompare(t.name)}))})),v=n(184);function j(){var e=(0,u.I0)(),t=(0,a.useState)(""),n=(0,s.Z)(t,2),d=n[0],p=n[1],h=(0,a.useState)(""),_=(0,s.Z)(h,2),b=_[0],x=_[1],j=(0,u.v9)(f),C=function(e){var t=e.currentTarget,n=t.name,a=t.value;switch(n){case"name":p(a);break;case"number":x(a);break;default:return}};return(0,v.jsxs)("form",{className:c,onSubmit:function(t){t.preventDefault(),j.some((function(e){return e.name.toLowerCase().trim()===d.toLowerCase().trim()}))?l.Am.error("".concat(d," is already in the contacts.")):(l.Am.success("".concat(d," was added to the contacts successfully.")),e((0,m.uK)({name:d,number:b})),p(""),x(""))},children:[(0,v.jsx)("label",{className:r,children:"Name"}),(0,v.jsx)("input",{type:"text",name:"name",className:o,pattern:"^[a-zA-Z][a-zA-Z0-9-_\\.]{1,20}$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:d,onChange:C}),(0,v.jsx)("label",{className:r,children:"Number"}),(0,v.jsx)("input",{type:"tel",name:"number",className:o,pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:b,onChange:C}),(0,v.jsx)("button",{type:"submit",className:i,children:"Add contact"})]})}var C={contactsItem:"ContactsItem_contactsItem__5zmD4",span:"ContactsItem_span__lUpoW",contactsBtn:"ContactsItem_contactsBtn__y8kGL"},y=n(2007),N=n.n(y),g=n(828),k=n(4164),w="Modal_overlay__r63M6",I="Modal_modal__DJDMv",A="Modal_label__A0H75",F="Modal_input__1Ivcu",M="Modal_button__PTCbC",P="Modal_buttonWrapper__A8QeU",z=n(6355),L=document.querySelector("#modal-root");function q(e){var t=e.contact,n=e.toggleModal,c=(0,u.I0)(),r=(0,a.useState)(t.name),o=(0,s.Z)(r,2),i=o[0],d=o[1],p=(0,a.useState)(t.number),f=(0,s.Z)(p,2),h=f[0],_=f[1];(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return(0,k.createPortal)((0,v.jsx)("div",{className:w,onClick:function(e){e.currentTarget===e.target&&n()},children:(0,v.jsxs)("div",{className:I,children:[(0,v.jsxs)("label",{className:A,children:["Name",(0,v.jsx)("input",{type:"text",name:"name",className:F,value:i,onChange:function(e){return d(e.target.value)}})]}),(0,v.jsxs)("label",{className:A,children:["Email",(0,v.jsx)("input",{type:"email",name:"email",className:F,value:h,onChange:function(e){return _(e.target.value)}})]}),(0,v.jsx)("div",{className:P,children:(0,v.jsx)("button",{type:"button",className:M,onClick:function(){c((0,m.mP)({name:i,number:h,id:t.id})),l.Am.success("Contact ".concat(i," was updated successfully.")),n()},children:(0,v.jsx)(z.TvB,{size:25})})})]})}),L)}var E=function(e){var t=e.contact,n=(0,u.I0)(),c=(0,a.useState)(!1),r=(0,s.Z)(c,2),o=r[0],i=r[1],d=function(){i(!o)};return(0,v.jsxs)("li",{className:C.contactsItem,children:[(0,v.jsx)("span",{className:C.span,children:t.name}),(0,v.jsx)("span",{className:C.span,children:t.number}),(0,v.jsx)("button",{type:"button",className:C.contactsBtn,onClick:d,children:(0,v.jsx)(g.Wx6,{size:20})}),(0,v.jsx)("button",{type:"button",className:C.contactsBtn,onClick:function(){return n((0,m.GK)(t.id))&&l.Am.success("Contact ".concat(t.name," was deleted successfully."))},children:(0,v.jsx)(g._51,{size:20})}),o&&(0,v.jsx)(q,{toggleModal:d,contact:t})]})};E.protoTypes={contact:N().objectOf(N().shape({name:N().string.isRequired,number:N().number.isRequired}).isRequired).isRequired,id:N().string.isRequired};var S=E,Z=function(){var e=(0,u.v9)(b),t=(0,u.v9)(x).filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase().trim())}));return(0,v.jsx)("ul",{className:C.contactsList,children:t.map((function(e){return(0,v.jsx)(S,{contact:e},e.id)}))})},B="Filter_label__vEd1E",R="Filter_input__N7T3z",T=n(4808),D=function(){var e=(0,u.I0)(),t=(0,u.v9)(b);return(0,v.jsxs)("label",{className:B,children:["Find contacts by name",(0,v.jsx)("input",{type:"text",value:t,name:"filter",onChange:function(t){e((0,T.x)(t.target.value))},className:R})]})},W=(n(5462),n(5343)),G={container:{minHeight:"calc(100vh - 50px)",backgroundColor:"rgba(156, 214, 240, 1)",opacity:.6,padding:20},title:{fontSize:20,marginBottom:15}};function H(){var e=(0,u.I0)(),t=(0,u.v9)(h),n=(0,u.v9)(_);return(0,a.useEffect)((function(){e((0,m.yF)())}),[e]),(0,v.jsxs)("div",{style:G.container,children:[(0,v.jsx)("h2",{style:G.title,children:"Add new contact"}),(0,v.jsx)(j,{}),(0,v.jsx)("h2",{style:G.title,children:"Contacts"}),(0,v.jsx)(D,{}),t&&(0,v.jsx)(W.Fe,{color:"blue"}),n&&(0,v.jsx)("b",{children:n}),(0,v.jsx)(Z,{}),(0,v.jsx)(l.Ix,{autoClose:2e3,position:"top-center",theme:"dark"})]})}}}]);
//# sourceMappingURL=391.9b074739.chunk.js.map